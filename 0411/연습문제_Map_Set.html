<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <script>
    // 다음과 같은 집합 A,B,C가 있을 때, 각 집합의 교집합, 차집합, 합집합을 구하는 함수를 작성
    const A = [1,2,3,4,5,3];
    const B = [1,22,3,44,5];
    const C = [11,222,3,4,555];

    function intersect(a,b) {
        const aSet = new Set(a);
        const result = [];
        b.forEach((v) => {
            if (aSet.has(v)) result.push(v);
        });
        return result;
    }

    function diff(a,b) {
        const aSet = new Set(a);
        b.forEach((v) => {
            if (aSet.has(v)) aSet.delete(v);
        });
        return [...aSet];
    }

    function union(a,b) {
        const aSet = new Set(a);
        b.forEach((v) => {
            if (!aSet.has(v)) aSet.add(v);
        });
        return [...aSet];
    }

    console.log(intersect(A,B)); //[1,3,5]
    console.log(intersect(A,C)); //[3,4]

    console.log(diff(A,B)); //[2,4]
    console.log(diff(B,A)); //[22,44]
    console.log(diff(A,C)); //[1,2,5]
    console.log(diff(B,C)); //[1,22,44,5]

    console.log(union(A,B)); //[1,2,3,4,5,22,44]
    console.log(union(A,C)); //[1,2,3,4,5,11,222,555]
        
    </script> -->


    <!-- <script>
    // p.193 연습문제
    // 다음과 같이 부서와 직원 객체가 있을 때, deptMap과 empDept를 만들고, 
    // 개발팀 직원 이름 목록을 출력하시오 (key: id)

    const hrTeam = {id: 1, dname: '인사팀'};
    const devTeam = {id: 2, dname: '개발팀'};
    const depts = [ hrTeam, devTeam ];
    // depts = [
    //     {id: 1, dname: '인사팀'},
    //     {id: 2, dname: '개발팀'}
    // ];

    const hong = {id: 1, name: 'Hong', dept: 1}; // hong.dept.name => deptMap.get(hong.dept)?.name
    const kim = {id: 2, name: 'Kim', dept: 2};
    const emps = [ 
        hong,
        kim,
        {id:3, name: 'Park', dept: 2},
        {id: 4, name: 'Choi', dept: 2}
    ];
    
    // 1. 부서 ID -> 부서 객체
    const deptMap = new Map(depts.map((dept) => [dept.id, dept]));

    // 2. 직원 ID -> 직원 객체
    const empMap = new Map(emps.map(emp => [emp.id, emp]));

    // 3. 직원 객체 -> 부서 객체
    const empDept = new Map(emps.map((emp) => [emp, deptMap.get(emp.dept)]));

    console.log(deptMap); // Map(2)
    console.log(empMap); // Map(2)
    console.log(empDept); // Map(4)
    console.log(empDept.get(kim).dname); //개발팀
    </script> -->


    <script>
    // p.194 연습문제
    // Array.prototype에 Set을 이용하여 uniqBy()함수도 추가하시오
    // Array.prototype.uniqBy = function(prop) { ... }

    Array.prototype.uniqBy = function (prop) {
    const result = new Set();
    for (const item of this) {
        result.add(item[prop]);
    }
    return [...result];
    };

    const hong = { id: 1, name: "Hong", dept: "HR" };
    const kim = { id: 2, name: "Kim", dept: "Server" };
    const lee = { id: 3, name: "Lee", dept: "Front" };
    const park = { id: 4, name: "Park", dept: "HR" };
    const ko = { id: 7, name: "Ko", dept: "Server" };
    const loon = { id: 5, name: "Loon", dept: "Sales" };
    const choi = { id: 6, name: "Choi", dept: "Front" };
    const users = [hong, kim, lee, park, ko, loon, choi];
    
    users.uniqBy("dept"); //['HR', 'Server', 'Front', 'Sales']

    console.log(users.uniqBy("dept"));
    console.log(users.uniqBy("id"));
    console.log(users.uniqBy("name"));
    </script>
</body>
</html>